{"ast":null,"code":"import React from'react';import{TREATY_STATUSES}from'../utils/treatyStatuses';import ActionButton from'./ActionButton';import StatusBadge from'./StatusBadge';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TreatyList(_ref){let{treaties,loaded,onView,canEditTreaty,onEdit}=_ref;if(!loaded){return/*#__PURE__*/_jsx(\"div\",{className:\"login-loading\",children:\"Loading treaties...\"});}if(!treaties||treaties.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"no-messages\",children:\"No treaties found.\"});}return/*#__PURE__*/_jsx(\"ul\",{className:\"treaties-list\",children:treaties.map(treaty=>{var _treaty$participants;return/*#__PURE__*/_jsxs(\"li\",{className:\"treaty-item\",onClick:()=>onView(treaty),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"treaty-title\",children:treaty.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-owner\",children:[\"Owner: \",treaty.owner]}),/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-participants\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Participants:\"}),\" \",((_treaty$participants=treaty.participants)===null||_treaty$participants===void 0?void 0:_treaty$participants.join(', '))||/*#__PURE__*/_jsx(\"i\",{children:\"None\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"treaty-content\",children:treaty.content.length>180?treaty.content.slice(0,180)+'…':treaty.content})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-actions\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"treaty-status\",children:/*#__PURE__*/_jsx(StatusBadge,{status:treaty.status})}),/*#__PURE__*/_jsxs(\"span\",{className:\"treaty-buttons\",children:[/*#__PURE__*/_jsx(ActionButton,{className:\"empire-view-btn\",onClick:ev=>{ev.stopPropagation();onView(treaty);},children:\"View\"}),canEditTreaty&&canEditTreaty(treaty)&&/*#__PURE__*/_jsx(ActionButton,{className:\"empire-save-btn\",onClick:ev=>{ev.stopPropagation();onEdit('edit',treaty);},children:\"Edit\"})]})]})]},treaty.id);})});}","map":{"version":3,"names":["React","TREATY_STATUSES","ActionButton","StatusBadge","jsx","_jsx","jsxs","_jsxs","TreatyList","_ref","treaties","loaded","onView","canEditTreaty","onEdit","className","children","length","map","treaty","_treaty$participants","onClick","title","owner","participants","join","content","slice","status","ev","stopPropagation","id"],"sources":["C:/Users/Admin/Dokumente/Stellaris/project/StellarisRP-Site/src/components/TreatyList.js"],"sourcesContent":["import React from 'react';\r\nimport { TREATY_STATUSES } from '../utils/treatyStatuses';\r\nimport ActionButton from './ActionButton';\r\nimport StatusBadge from './StatusBadge';\r\n\r\nexport default function TreatyList({\r\n    treaties,\r\n    loaded,\r\n    onView,\r\n    canEditTreaty,\r\n    onEdit\r\n}) {\r\n    if (!loaded) {\r\n        return <div className=\"login-loading\">Loading treaties...</div>;\r\n    }\r\n    if (!treaties || treaties.length === 0) {\r\n        return <div className=\"no-messages\">No treaties found.</div>;\r\n    }\r\n    return (\r\n        <ul className=\"treaties-list\">\r\n            {treaties.map(treaty => (\r\n                <li\r\n                    key={treaty.id}\r\n                    className=\"treaty-item\"\r\n                    onClick={() => onView(treaty)}\r\n                >\r\n                    <div className=\"treaty-info\">\r\n                        <div className=\"treaty-title\">{treaty.title}</div>\r\n                        <div className=\"treaty-meta\">\r\n                            <div className=\"treaty-owner\">Owner: {treaty.owner}</div>\r\n                            <div className=\"treaty-participants\">\r\n                                <b>Participants:</b> {treaty.participants?.join(', ') || <i>None</i>}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"treaty-content\">\r\n                            {treaty.content.length > 180 ? treaty.content.slice(0,180) + '…' : treaty.content}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"treaty-actions\">\r\n                        <span className=\"treaty-status\">\r\n                            <StatusBadge status={treaty.status} />\r\n                        </span>\r\n                        <span className=\"treaty-buttons\">\r\n                            <ActionButton\r\n                                className=\"empire-view-btn\"\r\n                                onClick={ev => { ev.stopPropagation(); onView(treaty); }}\r\n                            >View</ActionButton>\r\n                            {canEditTreaty && canEditTreaty(treaty) && (\r\n                                <ActionButton\r\n                                    className=\"empire-save-btn\"\r\n                                    onClick={ev => { ev.stopPropagation(); onEdit('edit', treaty); }}\r\n                                >Edit</ActionButton>\r\n                            )}\r\n                        </span>\r\n                    </div>\r\n                </li>\r\n            ))}\r\n        </ul>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}