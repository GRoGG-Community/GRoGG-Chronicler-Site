{"ast":null,"code":"import React from'react';import{TREATY_STATUSES}from'../utils/treatyStatuses';import ActionButton from'./ActionButton';import SearchSortBar from'./SearchSortBar';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function TreatyList(_ref){let{treaties,loaded,onView,canEditTreaty,onEdit,searchValue,onSearchChange,sortValue,onSortChange,sortOptions}=_ref;if(!loaded){return/*#__PURE__*/_jsx(\"div\",{className:\"login-loading\",children:\"Loading treaties...\"});}if(!treaties||treaties.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"no-messages\",children:\"No treaties found.\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SearchSortBar,{searchValue:searchValue,onSearchChange:onSearchChange,sortValue:sortValue,onSortChange:onSortChange,sortOptions:sortOptions||[{value:'title',label:'Sort by Title'},{value:'owner',label:'Sort by Owner'}],searchPlaceholder:\"Search treaties by title, content, owner, or participant...\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"treaties-list\",children:treaties.map(treaty=>{var _treaty$participants;return/*#__PURE__*/_jsxs(\"li\",{className:\"treaty-item\",onClick:()=>onView(treaty),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"treaty-title\",children:treaty.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-owner\",children:[\"Owner: \",treaty.owner]}),/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-participants\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Participants:\"}),\" \",((_treaty$participants=treaty.participants)===null||_treaty$participants===void 0?void 0:_treaty$participants.join(', '))||/*#__PURE__*/_jsx(\"i\",{children:\"None\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"treaty-content\",children:treaty.content.length>180?treaty.content.slice(0,180)+'…':treaty.content})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"treaty-actions\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"treaty-status\",children:TREATY_STATUSES[treaty.status]||treaty.status}),/*#__PURE__*/_jsxs(\"span\",{className:\"treaty-buttons\",children:[/*#__PURE__*/_jsx(ActionButton,{className:\"empire-view-btn\",onClick:ev=>{ev.stopPropagation();onView(treaty);},children:\"View\"}),canEditTreaty&&canEditTreaty(treaty)&&/*#__PURE__*/_jsx(ActionButton,{className:\"empire-save-btn\",onClick:ev=>{ev.stopPropagation();onEdit('edit',treaty);},children:\"Edit\"})]})]})]},treaty.id);})})]});}","map":{"version":3,"names":["React","TREATY_STATUSES","ActionButton","SearchSortBar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TreatyList","_ref","treaties","loaded","onView","canEditTreaty","onEdit","searchValue","onSearchChange","sortValue","onSortChange","sortOptions","className","children","length","value","label","searchPlaceholder","map","treaty","_treaty$participants","onClick","title","owner","participants","join","content","slice","status","ev","stopPropagation","id"],"sources":["C:/Users/Admin/Dokumente/Stellaris/project/StellarisRP-Site/src/components/TreatyList.js"],"sourcesContent":["import React from 'react';\r\nimport { TREATY_STATUSES } from '../utils/treatyStatuses';\r\nimport ActionButton from './ActionButton';\r\nimport SearchSortBar from './SearchSortBar';\r\n\r\nexport default function TreatyList({\r\n    treaties,\r\n    loaded,\r\n    onView,\r\n    canEditTreaty,\r\n    onEdit,\r\n    searchValue,\r\n    onSearchChange,\r\n    sortValue,\r\n    onSortChange,\r\n    sortOptions\r\n}) {\r\n    if (!loaded) {\r\n        return <div className=\"login-loading\">Loading treaties...</div>;\r\n    }\r\n    if (!treaties || treaties.length === 0) {\r\n        return <div className=\"no-messages\">No treaties found.</div>;\r\n    }\r\n    return (\r\n        <>\r\n            <SearchSortBar\r\n                searchValue={searchValue}\r\n                onSearchChange={onSearchChange}\r\n                sortValue={sortValue}\r\n                onSortChange={onSortChange}\r\n                sortOptions={sortOptions || [\r\n                    { value: 'title', label: 'Sort by Title' },\r\n                    { value: 'owner', label: 'Sort by Owner' }\r\n                ]}\r\n                searchPlaceholder=\"Search treaties by title, content, owner, or participant...\"\r\n            />\r\n            <ul className=\"treaties-list\">\r\n                {treaties.map(treaty => (\r\n                    <li\r\n                        key={treaty.id}\r\n                        className=\"treaty-item\"\r\n                        onClick={() => onView(treaty)}\r\n                    >\r\n                        <div className=\"treaty-info\">\r\n                            <div className=\"treaty-title\">{treaty.title}</div>\r\n                            <div className=\"treaty-meta\">\r\n                                <div className=\"treaty-owner\">Owner: {treaty.owner}</div>\r\n                                <div className=\"treaty-participants\">\r\n                                    <b>Participants:</b> {treaty.participants?.join(', ') || <i>None</i>}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"treaty-content\">\r\n                                {treaty.content.length > 180 ? treaty.content.slice(0,180) + '…' : treaty.content}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"treaty-actions\">\r\n                            <span className=\"treaty-status\">\r\n                                {TREATY_STATUSES[treaty.status] || treaty.status}\r\n                            </span>\r\n                            <span className=\"treaty-buttons\">\r\n                                <ActionButton\r\n                                    className=\"empire-view-btn\"\r\n                                    onClick={ev => { ev.stopPropagation(); onView(treaty); }}\r\n                                >View</ActionButton>\r\n                                {canEditTreaty && canEditTreaty(treaty) && (\r\n                                    <ActionButton\r\n                                        className=\"empire-save-btn\"\r\n                                        onClick={ev => { ev.stopPropagation(); onEdit('edit', treaty); }}\r\n                                    >Edit</ActionButton>\r\n                                )}\r\n                            </span>\r\n                        </div>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}