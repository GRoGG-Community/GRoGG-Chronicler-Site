{"ast":null,"code":"import React from'react';import ActionButton from'./ActionButton';import ListContainer from'./ListContainer';import{EmptyMessage,LoadingMessage}from'./Messages';import Dropdown from'./Dropdown';import cutOffDotter from'../utils/cutOffDotter';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EmpireList(_ref){let{empires,accounts,onLink,onUnlink,onDelete,loading,account,setEmpirePage,setEditEmpire,getEmpireAccount}=_ref;return/*#__PURE__*/_jsx(ListContainer,{loading:loading?/*#__PURE__*/_jsx(LoadingMessage,{}):false,emptyMessage:/*#__PURE__*/_jsx(EmptyMessage,{children:\"No empires found.\"}),children:/*#__PURE__*/_jsx(\"div\",{className:\"empires-info-list\",style:{display:'flex',flexWrap:'wrap',gap:'1.5rem',justifyContent:'flex-start'},children:empires.map(emp=>{if(!emp)return null;const linkedAccount=getEmpireAccount?getEmpireAccount(emp.name):emp.account;const canEdit=account&&(account.username===linkedAccount||account.username===\"GameMaster\");return/*#__PURE__*/_jsxs(\"div\",{className:\"empire-info-card empire-list-card\",onClick:()=>setEmpirePage&&setEmpirePage(emp.name),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"empire-info-title\",children:/*#__PURE__*/_jsx(\"cutOffDotter\",{text:emp.name,max:28})}),/*#__PURE__*/_jsx(\"div\",{className:\"empire-info-owner\",children:linkedAccount?/*#__PURE__*/_jsx(\"span\",{title:\"Assigned Account\",children:/*#__PURE__*/_jsx(\"cutOffDotter\",{text:linkedAccount,max:18})}):/*#__PURE__*/_jsx(\"i\",{children:\"Unassigned\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"empire-actions\",children:[setEmpirePage&&/*#__PURE__*/_jsx(ActionButton,{variant:\"primary\",className:\"empire-view-btn\",onClick:ev=>{ev.stopPropagation();setEmpirePage(emp.name);},children:\"View\"}),canEdit&&setEditEmpire&&/*#__PURE__*/_jsx(ActionButton,{variant:\"primary\",className:\"empire-save-btn\",onClick:ev=>{ev.stopPropagation();setEditEmpire(emp.name);},children:\"Edit\"}),onDelete&&/*#__PURE__*/_jsx(ActionButton,{variant:\"danger\",className:\"account-manage-btn account-delete-btn\",onClick:ev=>{ev.stopPropagation();onDelete(emp.name);},disabled:loading,children:\"Delete\"}),onLink&&onUnlink&&/*#__PURE__*/_jsx(Dropdown,{value:emp.account||'',onChange:e=>{const val=e.target.value;if(val)onLink(emp.name,val);else onUnlink(emp.name);},options:Object.keys(accounts).map(accName=>({value:accName,label:accName})),placeholder:\"Select account...\",className:\"account-select\",disabled:loading})]})]},emp.name);})})});}","map":{"version":3,"names":["React","ActionButton","ListContainer","EmptyMessage","LoadingMessage","Dropdown","cutOffDotter","jsx","_jsx","jsxs","_jsxs","EmpireList","_ref","empires","accounts","onLink","onUnlink","onDelete","loading","account","setEmpirePage","setEditEmpire","getEmpireAccount","emptyMessage","children","className","style","display","flexWrap","gap","justifyContent","map","emp","linkedAccount","name","canEdit","username","onClick","text","max","title","variant","ev","stopPropagation","disabled","value","onChange","e","val","target","options","Object","keys","accName","label","placeholder"],"sources":["C:/Users/Admin/Dokumente/Stellaris/project/MessengerSiteStellaris/src/components/EmpireList.js"],"sourcesContent":["import React from 'react';\r\nimport ActionButton from './ActionButton';\r\nimport ListContainer from './ListContainer';\r\nimport { EmptyMessage, LoadingMessage } from './Messages';\r\nimport Dropdown from './Dropdown';\r\nimport cutOffDotter from '../utils/cutOffDotter';\r\n\r\nexport default function EmpireList({\r\n    empires,\r\n    accounts,\r\n    onLink,\r\n    onUnlink,\r\n    onDelete,\r\n    loading,\r\n    account,\r\n    setEmpirePage,\r\n    setEditEmpire,\r\n    getEmpireAccount\r\n}) {\r\n    return (\r\n        <ListContainer\r\n            loading={loading ? <LoadingMessage /> : false}\r\n            emptyMessage={<EmptyMessage>No empires found.</EmptyMessage>}\r\n        >\r\n            <div className=\"empires-info-list\" style={{display: 'flex', flexWrap: 'wrap', gap: '1.5rem', justifyContent: 'flex-start'}}>\r\n                {empires.map(emp => {\r\n                    if (!emp) return null;\r\n                    const linkedAccount = getEmpireAccount ? getEmpireAccount(emp.name) : emp.account;\r\n                    const canEdit = account && (account.username === linkedAccount || account.username === \"GameMaster\");\r\n                    return (\r\n                        <div\r\n                            key={emp.name}\r\n                            className=\"empire-info-card empire-list-card\"\r\n                            onClick={() => setEmpirePage && setEmpirePage(emp.name)}\r\n                        >\r\n                            <h3 className=\"empire-info-title\">\r\n                                <cutOffDotter text={emp.name} max={28} />\r\n                            </h3>\r\n                            <div className=\"empire-info-owner\">\r\n                                {linkedAccount\r\n                                    ? <span title=\"Assigned Account\"><cutOffDotter text={linkedAccount} max={18} /></span>\r\n                                    : <i>Unassigned</i>}\r\n                            </div>\r\n                            <div className=\"empire-actions\">\r\n                                {setEmpirePage && (\r\n                                    <ActionButton\r\n                                        variant=\"primary\"\r\n                                        className=\"empire-view-btn\"\r\n                                        onClick={ev => {ev.stopPropagation(); setEmpirePage(emp.name);}}\r\n                                    >View</ActionButton>\r\n                                )}\r\n                                {canEdit && setEditEmpire && (\r\n                                    <ActionButton\r\n                                        variant=\"primary\"\r\n                                        className=\"empire-save-btn\"\r\n                                        onClick={ev => {ev.stopPropagation(); setEditEmpire(emp.name);}}\r\n                                    >Edit</ActionButton>\r\n                                )}\r\n                                {onDelete && (\r\n                                    <ActionButton\r\n                                        variant=\"danger\"\r\n                                        className=\"account-manage-btn account-delete-btn\"\r\n                                        onClick={ev => {ev.stopPropagation(); onDelete(emp.name);}}\r\n                                        disabled={loading}\r\n                                    >Delete</ActionButton>\r\n                                )}\r\n                                {onLink && onUnlink && (\r\n                                    <Dropdown\r\n                                        value={emp.account || ''}\r\n                                        onChange={e => {\r\n                                            const val = e.target.value;\r\n                                            if (val) onLink(emp.name, val);\r\n                                            else onUnlink(emp.name);\r\n                                        }}\r\n                                        options={Object.keys(accounts).map(accName => ({\r\n                                            value: accName,\r\n                                            label: accName\r\n                                        }))}\r\n                                        placeholder=\"Select account...\"\r\n                                        className=\"account-select\"\r\n                                        disabled={loading}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </ListContainer>\r\n    );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}